<div *ngIf="cargando" class="loader loader-pink"></div>
<div *ngIf="!cargando" id="content_wrapper" class="fullWidth2-wrapper rightSidenav2-wrapper">
  <!--// Sidenav component container-->
  <md-sidenav-container class="sidenav-container">
    <div class="content min-h-900">
      <header class="header-wrapper header-sm shadow-none">
        <h1>{{title}}</h1>
        <ul class="actions icons top-right">
          <li>
            <a href="javascript:void(0)" (click)="rightSidenav2.toggle()">
              <i class="zmdi zmdi-menu"></i>
            </a>
          </li>
        </ul>
      </header>

      <div *ngIf="paciente" class="row p-20 p-b-5 m-b-0">
        <app-detalles-paciente class="col-lg-12" [paciente]="paciente"></app-detalles-paciente>
      </div>

      <!-- examen -->
      <div class="">
        <form #exmaneFacial="ngForm" (submit)="guardarExamen()" class="row p-20 m-t-0 p-t-0">
          <div class="col-lg-6 col-md-6 col-sm-12">
            <div class="card">
              <div class="card-header border-bottom">
                <h3 class="card-title">Historia Dental</h3>
              </div>
              <div class="card-body">
                <div class="form-group row">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_dental_actual">Actual</label>
                      <md-radio-group id="hia_dental_actual" name="hia_dental_actual" [(ngModel)]="examen.hia_dental_actual">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_dental_actual" class="col">
                      <input type="text" class="form-control" name="hia_dental_actual_txt" [(ngModel)]="examen.hia_dental_actual_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_dental_pasada">Pasada</label>
                      <md-radio-group id="hia_dental_pasada" name="hia_dental_pasada" [(ngModel)]="examen.hia_dental_pasada">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_dental_pasada" class="col">
                      <input type="text" class="form-control" name="hia_dental_pasada_txt" id="hia_dental_pasada_txt" [(ngModel)]="examen.hia_dental_pasada_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_dental_higiene_oral">Higiene Oral</label>
                      <md-radio-group id="hia_dental_higiene_oral" name="hia_dental_higiene_oral" [(ngModel)]="examen.hia_dental_higiene_oral">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_dental_higiene_oral" class="col">
                      <input type="text" class="form-control" name="hia_dental_higiene_oral_txt" id="hia_dental_higiene_oral_txt" [(ngModel)]="examen.hia_dental_higiene_oral_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_dental_habitos">Hábitos</label>
                      <md-radio-group id="hia_dental_habitos" name="hia_dental_habitos" [(ngModel)]="examen.hia_dental_habitos">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_dental_habitos" class="col">
                      <input type="text" class="form-control" name="hia_dental_habitos_txt" id="hia_dental_habitos_txt" [(ngModel)]="examen.hia_dental_habitos_txt">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12">
            <div class="card">
              <div class="card-header border-bottom">
                <h3 class="card-title">Historia Médica</h3>
              </div>
              <div class="card-body">
                <div class="form-group row">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_medica_ant_familiares">Ant. Familiares</label>
                      <md-radio-group id="hia_medica_ant_familiares" name="hia_medica_ant_familiares" [(ngModel)]="examen.hia_medica_ant_familiares">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_medica_ant_familiares" class="col">
                      <input type="text" class="form-control" name="hia_medica_ant_familiares_txt" id="hia_medica_ant_familiares_txt" [(ngModel)]="examen.hia_medica_ant_familiares_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_medica_ant_personales">Ant. Personales</label>
                      <md-radio-group id="hia_medica_ant_personales" name="hia_medica_ant_personales" [(ngModel)]="examen.hia_medica_ant_personales">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_medica_ant_personales" class="col">
                      <input type="text" class="form-control" name="hia_medica_ant_personales_txt" id="hia_medica_ant_personales_txt" [(ngModel)]="examen.hia_medica_ant_personales_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_medica_enfermedades">Enfermedades</label>
                      <md-radio-group id="hia_medica_enfermedades" name="hia_medica_enfermedades" [(ngModel)]="examen.hia_medica_enfermedades">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_medica_enfermedades" class="col">
                      <input type="text" class="form-control" name="hia_medica_enfermedades_txt" id="hia_medica_enfermedades_txt" [(ngModel)]="examen.hia_medica_enfermedades_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="hia_medica_interconsulta">Interconsulta</label>
                      <md-radio-group id="hia_medica_interconsulta" name="hia_medica_interconsulta" [(ngModel)]="examen.hia_medica_interconsulta">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.hia_medica_interconsulta" class="col">
                      <input type="text" class="form-control" name="hia_medica_interconsulta_txt" id="hia_medica_interconsulta_txt" [(ngModel)]="examen.hia_medica_interconsulta_txt">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="card">
              <div class="card-header border-bottom">
                <h3 class="card-title">Exámen Clínico</h3>
              </div>
              <div class="card-body">
                <div class="form-group row">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="examen_clinico_extraoral">Extraoral</label>
                      <md-radio-group id="examen_clinico_extraoral" name="examen_clinico_extraoral" [(ngModel)]="examen.examen_clinico_extraoral">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.examen_clinico_extraoral" class="col">
                      <input type="text" class="form-control" name="examen_clinico_extraoral_txt" id="examen_clinico_extraoral_txt" [(ngModel)]="examen.examen_clinico_extraoral_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="examen_clinico_intraoral">Intraoral</label>
                      <md-radio-group id="examen_clinico_intraoral" name="examen_clinico_intraoral" [(ngModel)]="examen.examen_clinico_intraoral">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.examen_clinico_intraoral" class="col">
                      <input type="text" class="form-control" name="examen_clinico_intraoral_txt" id="examen_clinico_intraoral_txt" [(ngModel)]="examen.examen_clinico_intraoral_txt">
                    </div>
                  </div>
                </div>
                <div class="form-group row m-t-5">
                  <div class="col-lg-12 row">
                    <div class="col-auto">
                      <label for="examen_clinico_periodonto">Periodonto</label>
                      <md-radio-group id="examen_clinico_periodonto" name="examen_clinico_periodonto" [(ngModel)]="examen.examen_clinico_periodonto">
                        <md-radio-button [value]="false">No</md-radio-button>
                        <md-radio-button [value]="true">Si</md-radio-button>
                      </md-radio-group>
                    </div>
                    <div *ngIf="examen.examen_clinico_periodonto" class="col">
                      <input type="text" class="form-control" name="examen_clinico_periodonto_txt" id="examen_clinico_periodonto_txt" [(ngModel)]="examen.examen_clinico_periodonto_txt">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="card">
              <div class="card-header border-bottom">
                <h3 class="card-title">Exámen Dentario</h3>
              </div>
              <div class="card-body">
                <div class="form-group row">
                  <div class="col-lg-6" *ngFor="let diente of examen.examen_dentario">
                    <div class="row">
                      <div class="p-2 m-0 col-auto border">{{diente.num1}}</div>
                      <div class="p-2 m-0 col-auto border">{{diente.num2}}</div>
                      <div class="p-0 m-0 col">
                        <input type="text" class="form-control" (click)="abrirModalDiente(diente)" value="{{diente.nombreTratamiento}}">
                      </div>
                    </div>
                  </div>
                </div>

                <div class="form-group row">
                  <label for="oclusion">Oclusión</label>
                  <input type="text" class="form-control" name="oclusion" id="oclusion" (click)="abrirModalDiente(examen.oclusion)" value="{{examen.oclusion.nombreTratamiento}}">
                </div>

                <div class="form-group row">
                  <label for="implantes">Implantes</label>
                  <input type="text" class="form-control" name="implantes" id="implantes" (click)="abrirModalDiente(examen.implantes)" value="{{examen.implantes.nombreTratamiento}}">
                </div>

                <div class="form-group row">
                  <label for="prot_fija_plural">Prot. Fija plural</label>
                  <input type="text" class="form-control" name="prot_fija_plural" id="prot_fija_plural" (click)="abrirModalDiente(examen.prot_fija_plural)" value="{{examen.prot_fija_plural.nombreTratamiento}}">
                </div>

                <div class="form-group row">
                  <label for="prot_removible">Prot. Removible</label>
                  <input type="text" class="form-control" name="prot_removible" id="prot_removible" (click)="abrirModalDiente(examen.prot_removible)" value="{{examen.prot_removible.nombreTratamiento}}">
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-12">
            <div class="card">
              <div class="card-header border-bottom">
                <h3 class="card-title">Exámen Oclusal</h3>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-6 col-md-6 col-sm-12">
                    <label class="control-label">ESTATICO</label>
                    <div class="form-group row">
                      <div class="col">
                        <label for="oclusionTipo" class="control-label">Tipo de Oclusión:</label>
                        <input type="text" class="form-control" name="oclusionTipo" id="oclusionTipo" [(ngModel)]="examen.oclusionTipo">
                      </div>
                    </div>
                    <div class="form-group row">
                      <div class="col">
                        <label for="smv" class="control-label">SMV:</label>
                        <input type="text" class="form-control" name="smv" id="smv" [(ngModel)]="examen.smv">
                      </div>
                      <div class="col">
                        <label for="smh" class="control-label">SMH:</label>
                        <input type="text" class="form-control" name="smh" id="smh" [(ngModel)]="examen.smh">
                      </div>
                    </div>
                    <div class="form-group row">
                      <div class="col">
                        <label for="facetas_abfracciones" class="control-label">Facetas / abfracciones</label>
                        <input type="text" class="form-control" name="facetas_abfracciones" id="facetas_abfracciones" [(ngModel)]="examen.facetas_abfracciones">
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6 col-md-6 col-sm-12">
                    <label class="control-label">DINAMICO</label>
                    <div class="form-group row">
                      <div class="col">
                        <label for="mic_rc" class="control-label">MIC - RC</label>
                        <input type="text" class="form-control" name="mic_rc" id="mic_rc" [(ngModel)]="examen.mic_rc">
                      </div>
                      <div class="col">
                        <div class="row">
                          <div class="col">
                            <label class="control-label">LAT DER:</label>
                          </div>
                          <div class="col">
                            <label for="lat_der_t" class="control-label">T</label>
                            <input type="text" class="form-control" name="lat_der_t" id="lat_der_t" [(ngModel)]="examen.lat_der_t">
                          </div>
                          <div class="col">
                            <label for="lat_der_b" class="control-label">B</label>
                            <input type="text" class="form-control" name="lat_der_b" id="lat_der_b" [(ngModel)]="examen.lat_derb">
                          </div>
                          <div class="col">
                            <label for="lat_der_hb" class="control-label">HB</label>
                            <input type="text" class="form-control" name="lat_der_hb" id="lat_der_hb" [(ngModel)]="examen.lat_der_hb">
                          </div>
                        </div>
                        <div class="row">
                          <div class="col">
                            <label class="control-label">LAT IZQ:</label>
                          </div>
                          <div class="col">
                            <label for="lat_izq_t" class="control-label">T</label>
                            <input type="text" class="form-control" name="lat_izq_t" id="lat_izq_t" [(ngModel)]="examen.lat_izq_t">
                          </div>
                          <div class="col">
                            <label for="lat_izq_b" class="control-label">B</label>
                            <input type="text" class="form-control" name="lat_izq_b" id="lat_izq_b" [(ngModel)]="examen.lat_izq_b">
                          </div>
                          <div class="col">
                            <label for="lat_izq_hb" class="control-label">HB</label>
                            <input type="text" class="form-control" name="lat_izq_hb" id="lat_izq_hb" [(ngModel)]="examen.lat_izq_hb">
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="form-group row">
                      <div class="col">
                        <label for="radiologico" class="control-label">Radiológico</label>
                        <input type="text" class="form-control" name="radiologico" id="radiologico" [(ngModel)]="examen.radiologico">
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-sm-12">
            <div class="card">
              <div class="card-footer">
                <div class="row">
                  <button type="submit" class="btn btn-primary m-auto" mdRipple>
                    <i class="zmdi zmdi-save"></i>
                    Guardar
                  </button>
                </div>
              </div>
            </div>
          </div>

        </form>
      </div>
    </div>
  </md-sidenav-container>
</div>

<app-modal-tratamiento #modalTratamiento (listaTratamientosSeleccionados)="capturarTratamiento($event)"></app-modal-tratamiento>
